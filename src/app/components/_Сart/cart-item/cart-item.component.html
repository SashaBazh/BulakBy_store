<div class="cart-item">
  <div class="item-image">
    <img 
      [src]="imageSrc" 
      alt="Product Image" 
      (load)="onImageLoad()" 
      (error)="setDefaultImage($event)" 
      [class.loading]="imageLoading" />
  </div>
  <div class="item-details">
    <div class="item-title">{{ title }}</div>
    <div class="item-footer">
      <div class="quantity-selector">
        <span class="quantity-number">{{ quantity }}</span>
        <div class="quantity-controls">
          <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"
            (click)="increaseQuantity()">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M0.792893 5.20711C1.18342 5.59763 1.81658 5.59763 2.20711 5.20711L5 2.41421L7.79289 5.20711C8.18342 5.59763 8.81658 5.59763 9.20711 5.20711C9.59763 4.81658 9.59763 4.18342 9.20711 3.79289L5.70711 0.292894C5.31658 -0.0976305 4.68342 -0.0976305 4.29289 0.292894L0.792893 3.79289C0.402368 4.18342 0.402368 4.81658 0.792893 5.20711Z"
              fill="#E0E0E0" />
          </svg>

          <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"
            (click)="decreaseQuantity()">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M9.20711 0.792893C8.81658 0.402369 8.18342 0.402369 7.79289 0.792893L5 3.58579L2.20711 0.792893C1.81658 0.402369 1.18342 0.402369 0.792894 0.792893C0.402369 1.18342 0.402369 1.81658 0.792894 2.20711L4.29289 5.70711C4.68342 6.09763 5.31658 6.09763 5.70711 5.70711L9.20711 2.20711C9.59763 1.81642 9.59763 1.18342 9.20711 0.792893Z"
              fill="#E0E0E0" />
          </svg>
        </div>
      </div>
      <div class="price-and-remove">
        <span *ngIf="discountedPrice !== null; else normalPrice">
          <span class="old-price">{{ price * quantity }} USD</span>
          <span class="new-price">{{ discountedPrice * quantity }} USD</span>
        </span>
        <ng-template #normalPrice>
          <span class="item-price">{{ price * quantity }} USD</span>
        </ng-template>
        <img src="../../../../assets/icons/plus.svg" alt="Remove" class="remove-icon" (click)="removeItem()" />
      </div>

    </div>
  </div>
</div>