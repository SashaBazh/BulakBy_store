<div class="product-card">
    <div class="image-container">
        <!-- Серый фон отображается, пока изображение загружается -->
        <div class="image-placeholder" *ngIf="imageLoading"></div>
        <img 
          [src]="product.image" 
          [alt]="product.name" 
          class="product-image" 
          (load)="onImageLoad()" 
          (error)="setDefaultImage($event)" 
          [class.hidden]="imageLoading"
        />
    </div>
    <div class="product-info">
        <h3 class="product-title">{{ product.name }}</h3>
        <p class="product-price">
            <span *ngIf="product.discounted_price !== null" class="old-price">{{ product.price }} USD</span>
            <span *ngIf="product.discounted_price !== null" class="new-price">{{ product.discounted_price }} USD</span>
            <span *ngIf="product.discounted_price === null">{{ product.price }} USD</span>
        </p>
    </div>
</div>
